### 返回结果的HTTP状态码

##### 4.1状态码告知从服务器端返回的请求结果
状态码描述了服务器端返回的请求结果。

正常状态码：2XX，错误状态码：4XX、5XX

状态码的类别：

| 状态码 |              类别              |         原因短语         |
|:------:|:------------------------------:|:------------------------:|
| `1XX`  |  Informational(信息性状态码)   |    接收的请求正在处理    |
| `2XX`  |      Success(成功状态码)       |     请求正常处理完毕     |
| `3XX`  |   Redirection(重定向状态码)    | 需要进行附加操作完成请求 |
| `4XX`  | Client Error(客户端错误状态码) |    服务器无法处理请求    |
| `5XX`  | Server Error(服务器错误状态码) |    服务器处理请求出错    |

仅记录在RFC2616上的HTTP状态码就达40中，若再加上WebDAV（基于万维网的分布式创作和版本控制）和附加HTTP状态码（RFC6585）等扩展，数量有60多种，但是常用的只有14种。

只要遵守状态码类别的定义，及时改变RFC2616中定义的状态码，或者服务器端自行创建状态码都没问题。

##### 4.2 2XX 成功

`200 OK`的响应结果表明请求被正常处理了。

在响应报文内，随状态码一起返回的信息会因为方法的不同而发生改变。比如`GET`，请求资源的实体会作为响应返回；而使用`HEAD`方法，只会返回首部，不返回实体的主体部分，`OPTIOSN`也不会返回主体。

`204 No Content`的响应码表示服务器接收的请求已经成功处理，但是返回报文中不含实体的主体部分，也不允许返回任何主体。`204`主要用于，客户端只往服务器发送消息，客户端不需要发送新信息内容的情况。

`206 Partial Content`的响应码表示处理了范围请求，响应报文中由`Content-Range`指定范围的实体内容部分。

##### 4.3 3XX 重定向

`301 Moved Permanently` 永久性重定向。改状态码表示请求的资源已经被分配了新的URI。如果已经把资源对应的URI保存为书签了，这时应该按Location首部字段提示的URI重新保存。（ps：没遇到过这种，或者是遇到了，没注意到过。）

`302 Found` 与`301`相似，但本状态码不是永久移动，而是临时性质的，也有可能还会改变，也不会去更新书签。

`303 See Ohter` 该状态码表示请求对应的资源存着另一个URI,应该使用`GET`方法定向获取请求资源，当浏览器遇到`301`、`302`、`303`状态码的时候，几乎所有的浏览器都会把`POST`方法改为`GET`方法，并删除请求报文内的主体，然后自动再次发送请求。

`301`、`302`的标准是禁止`POST`方法改成`GET`方法的，但是实际都会这么做（？？？？到底是怎么做？矛盾啊？  下文中又表示不遵守，可能是手误写错了。）。

`304 Not Modified` 表示客户端发送福袋条件的请求时候（如下），服务器允许请求访问资源，但未满足条件的情况下，返回`304`，且不返回主体部分，与重定向无关！！

附带条件如下：
* If-Match
* If-Modified-Since
* If-None-Match
* If-Range
* If-Unmodified-Since

`307 Temporary Redirect`  临时重定向。与`302`相同含义。

以上见过的不是很多，等待机会自己验证一把。

##### 4.4 4XX 客户端错误

`400 Bad Request` 该状态吗表示请求报文中存在语法错误。当错误发生时，需要修改请求的内容后再次发送请求。另外，浏览器会像`200 OK`一样对待该状态。

这种情况见的比较多的是在`Spirng`框架中，`@RequestParameter`，设置`required`为`true`，而前端却没有传的时候，或者是名称不正确，会导致`400`，一般情况下，检查下请求参数即可，请求语法一般都是封装好的。

`401 Unauthorized` 该状态码表示发送的请求需要通过`HTTP`认证（BASIC认证、DIGEST认证）。

![401状态码](https://wx3.sinaimg.cn/large/005VwC5mly1g6vp7qjaxvj30ol0ifdpk.jpg)

`403 Forbidden` 该状态码表示访问被拒绝，在`Spring Security`框架中常见，用户没有对应的访问权限，可能会返回`403`状态码。

也有可能是防火墙或者或者未授权等原因。

`404 Not Found` 该状态码表示未找到相关资源，常见的就是URI写错啦。

##### 5XX 服务器错误。

`500 Internal Server Error` 该状态码表示服务器端请求时发生了错误。

`503 Service Unavailable` 该状态码表示服务器暂时处于负载或正在进行停机维护，暂时无法处理请求。

`504 Gateway timeout` 网关没有及时响应，一般是请求超时或者是服务根本没启动。
