### 基于HTTP的功能追加
##### 基于HTTP的协议
起初的HTTP只是当做了HTML文档的协议。但是随着发展，Web的用途变多。

HTTP功能上不足可通过一套全新的协议来弥补，但是占有率超高，因此无法完全抱起，因此在此基础上添加了新的功能。

##### 消除HTTP瓶颈的SPDY
HTTP标准存在的瓶颈
* 一条连接上只可发送一个请求。
* 请求只能从客户端开始，客户端不可以接受除响应外的指令。
* 请求/响应首部未经压缩就发送。首部信息越多延迟越大。
* 发送冗长的首部。每次互相发送相同的首部造成的浪费较多。
* 可任意选择数据压缩格式。非强制压缩发送

`Ajax`技术可以实时地从服务器获取内容，刷新局部内容，但会导致大量请求产生。也不能解决HTTP协议本身存在的问题。

![Ajax通信](https://wx2.sinaimg.cn/large/005VwC5mly1g75zcmpgyqj30qx0i8gsb.jpg)

`Comet`技术模拟实现服务端向客户端推送的功能。一旦服务器内容更新，`Comet`不会让请求等待，而是直接给客户端返回响应。为了实现推送功能，`Comet`会先将响应置于挂起状态，当服务端有内容更新时，再返回响应，因此导致了连接时间变长了，为了维护连接，也会消耗更多的资源。

![Comet通信](https://ws2.sinaimg.cn/large/005VwC5mly1g75zbt0nr6j30rh0i0gt2.jpg)

SPDY的目标就是为了在协议级别消除HTTP所遭遇的瓶颈

###### SPDY的设计与功能
SPDY不是要取代HTTP，而是要对HTTP进行增强，SPDY是以会话层形式加入，控制对数据的流动，还是采用HTTP建立通信。

使用SPDY以后，HTTP协议额外获得以下功能：
* 多路复用流：通过单一的TCP连接，可以无限制处理多个HTTP请求。所有请求的处理都在一条TCP连接上完成。
* 赋予请求优先级：可以给请求逐个分配优先级顺序。这样主要是为了在发送请求时，解决因贷款低导致响应慢的问题。
* 压缩HTTP首部：对HTTP首部进行压缩。
* 推送功能：支持服务器主动向客户端推送数据功能。
* 服务器提示功能：服务器可以主动提示客户端请求的资源，在客户端发现资源前就可以获知资源的存在。
>Server hint(服务器提示功能)：相对于自动推送资源到客户端，在服务器事先知道客户端需要的资源的情况下，服务器使用X-Subresources头建议客户端请求特殊的资源。但是，服务器仍然在发送内容前等待客户请求。通过窄带，这个选项能减少一个客户端发现它所需要的资源的数百毫秒，可能更适合于非初始页面加载。  --baidubaike

SPDY基本上只是将单个域名（IP地址）的通信多路复用，所以当一个Web网站上使用多个域名下的资源，改善效果就会受到限制。

##### 使用浏览器进行双工通信的WebSocket
`WebSocket`技术是为了解决HTTP存在的瓶颈问题而出现的新的协议及API。
