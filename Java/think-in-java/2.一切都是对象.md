### 2.一切都是对象
##### 2.1用引用操纵对象
在Java中，一切都是对象，因此可以采用固定的语法，虽然说是一切看做是对象，单操作的标识符实际上是对象的一个“引用（reference）”。

##### 2.2必须由你创建所有对象
Java使用`new`操作符来创建对象，基本类型则不需要`new`。

对象存储的哪些地方？
1. 寄存器：最快的存储区。不能直接控制，也不能在程序中感觉到寄存器的存在。
2. 堆栈：位于通用RAM（随机访问存储器）中，但通过堆栈指针可以从处理器那里获取直接支持。堆栈指针向下移动，则重新分配新的内存；堆栈指针像上移动，则释放那些内存。Java对象的引用（String s 的 s）存储于堆栈中，Java对象并不存储于其中。
3. 堆：一种通用的内存池（RAM），用于存放所有的Java对象。堆栈不同的是，编译器不需要知道存储的数据在堆里存活多长时间。
4. 常量存储：常量值通常直接放在程序代码内部，这样做是安全的，因为它们永远不会被改变。
5. 非RAM存储：这类数据存活与程序之外，比如：流对象和持久化对象。

特例：基本类型
基本类型的变量直接存储的是值，并不是“引用”，因此存在于堆栈中。
Java基本类型赵勇空间。

| 基本类型 |  大小   |  最小值   |     最大值     | 包装类型  |
|:--------:|:-------:|:---------:|:--------------:|:---------:|
| boolean  |    -    |     -     |       -        |  Boolean  |
|   char   | 16 bits | Unicode 0 | Unicode 2^16-1 | Character |
|   byte   | 8 bits  |   -128    |      +127      |   Byte    |
|  short   | 16 bits |   -2^15   |    +2^15-1     |   Short   |
|   int    | 32 bits |   -2^31   |    +2^31-1     | Interger  |
|   long   | 64 bits |   -2^64   |    +2^64-1     |   Long    |
|  float   | 32 bits |  IEEE754  |    IEEE754     |   Float   |
|  double  | 64 bits |  IEEE754  |    IEEE754     |  Double   |
|   void   |    -    |     -     |       -        |   Void    |

包装类对象可以使用`new`关键字到堆中。

高精度的数字`BigInteger`和`BigDecimal`

`BigInteger`支持任意精度的整数。

`BigDecimal`支持任意精度的定点数。

当创建一个数组对象时，实际上就是创建了一个引用数组，并且每个引用都会被自动被初始化为一个特定值，该值拥有自己的关键字null。

基本类型的数组，都会被初始化，比如说`int`数组，都会被初始化为0。

##### 2.3永远不需要销毁对象
在C++中，销毁对象也需要手动的调用方法，否则长时间运行的程序容易造成内存泄漏。

在Java中，销毁对象是“垃圾回收器”的工作。

###### 作用域
Java中每个属性都有一定的作用域：
```java
public class Demo{
      public void demo(){
          String s="";
      }
}
```
在一个花括号中，例如变量s，只能存活于`demo`方法中。

##### 2.4创建新的数据类型：类
```java
public class Demo{
   //....
}
```
一个`class`就代表一个类，一个`.java`文件中可以有多个class,但是被`public`修饰的只能有一个。

###### 成员变量
| 基本类型 |     默认值     |
|:--------:|:--------------:|
| boolean  |     false      |
|   char   | '\u0000'(null) |
|   byte   |    (byte)0     |
|  short   |    (short)0    |
|   int    |       0        |
|   long   |       0L       |
|  float   |      0.0f      |
|  double  |      0.0d      |

在java中基本类型都会被初始化为相应的值，即使是自己不进行初始化，也会被赋为默认值，防止空指针。

##### 2.5方法、参数和返回值
方法的基本组成部分：名称、参数、返回值、函数体。
```java
    returnType methodName(args){
       //function body
    }
```
`方法名称`和`参数列表`两个组合起来被称为`方法签名`。

假设以下方法：
```java
   int f(){
     return 0;
   }
```
当使用`f()`的时候，就表示调用了方法，通常被称为`发送消息给对象`。

方法的参数列表，一般传输过去的都是`reference`，即`按引用传递`，当对这个对象进行操作修改的时候，那么其他引用该对象的变量，读取对象的时候，也会能反应出被修改。

但是八大基本类型是一个例外，他们是`按值传递的`。

举个例子：

`按引用传递`：给你房间的钥匙，你可以随意改变房间的布局，当你改变完之后，其他人进入这个房间，就能看见被改变了。

`按值传递`：先把房间复制一份，然后给你复制后的房间的钥匙，随你折腾，当其他人进入房间之后，房间还是原始的样子。

补充：

java的方法调用是通过实例对象进行调用的，调用的形式如：
```java
   f.method();
```
但是被编译器优化之后，其实调用形式被改为：
```java
  类名.method(f)
```
java还是通过完整的类名去调用方法的，同时会将方法调用者(调用的实例对象)传入到方法中，且是第一个参数，虽然这个部分我们从未看到过。

`String`类会占用16位，两个字节，因为使用的是`Unicode`编码。

##### 2.6构建一个Java程序
Java中的使用`包空间`来防止方法的冲突。

C中存在一个严重的问题就是 函数与变量 必须先定义，才能使用，而在java中则消除了这种`向前引用`的问题（当然不包含局部变量）。

`import`关键字为导入，可以将其他命名空间导入到当前空间，减少书写，

只有使用`new`关键字创建对象，存储空间才被分配，方法才能被外界调用。

但是当使用`static`关键字声明的属性与方法，都能通过`类名.属性名`或者`类名.方法名`直接调用，也可以通过`实例对象.属性名`或者`实例对象.方法名`调用。

当声明`static`时，就表示属性或者方法并不会与实例对象绑定到一起，可以独立存在。

`static`作用域下的代码只能使用`static`或者实例对象的属性或者方法（主要是会在同一类中，`static`作用域可能会调用非`static`方法，这个时候就会有编译警告，无法调用）。

非`static`作用域下可以随意使用`static`声明的属性或者方法。

被`static`修饰的，`JRE`只会为其分配一块内存（类的描述区？）无论多少个实例对象，也都共用，尤其是当属性被声明为`static`的时候，多线程下可能会存在`资源竞争`

![static关键字](https://ws4.sinaimg.cn/large/005VwC5mly1g6fqeu1uewj30pc06idk1.jpg "static关键字")


##### 2.7你的第一个Java程序
略

##### 2.8注释和嵌入式文档
多行注释如下：
```java
/*这里
 * 是一行
 * 注释
 */
```
单行注释如下：
```java
//注释
```
这两种注释应该只存在于源文件中，编译后丢失，`javadoc`命令也不会去扫描这两种注释。

###### javadoc
`javadoc`是用于提取注释的工具。可以输出一个HTML文件，使用web浏览器进行查看。

`javadoc`只能`/**`开头，结束于`*/`，使用此命令主要有两种：`嵌入HTML`或者`文档标签`。

`独立文档标签`是一些以`@`字符开头的。？？不是很懂。

共有三种类型的注释文档
* 类
* 域
* 方法

注释也都最好写到这些代码的定义之前，如：
```java
/**
  * 类注释
  */
public class Demo{
   /**
    * 域注释（属性注释）
    */
    public int i;
  /**
    * 方法注释
    */
    public void f(){}

}
```

`javadoc`只能为`public`和`protected`成员文档注释，`private`和`default`注释会被忽略（当然有设定）。

`javadoc`能使用一些`HTML`标签，进行一定的格式化。(`javadoc`命令之后的web效果吗？)

###### 一些标签
|                 标签                  |                                         释义                                         |        示例         |
|:-------------------------------------:|:------------------------------------------------------------------------------------:|:-------------------:|
|                `@see`                 | 允许用户引用其他类的文档。通过`@see`可以连接到其他文档，可以使用"See Also"作为超链接 |  `@see classname`   |
| `{@link package.class#member leable}` |                  与`@see`相似，只是用于行内，使用"lable"作为超链接                   |                     |
|             `{@docRoot}`              |                表示该标签产生到根目录的绝对路径，用于属性页面的超链接                |                     |
|            `{@inheritDoc}`            |                           从当前类的直接基类中继承相关文档                           |                     |
|              `@version`               |                                       版本信息                                       |   `@version 1.0`    |
|               `@author`               |                                       作者信息                                       |   `@author chen`    |
|               `@since`                |                                表示从哪个jdk版本开始                                 |    `@since 1.0`     |
|               `@param`                |                                         参数                                         | `@paran name 名字`  |
|               `@throws`               |                                       异常描述                                       | `@throws Exception` |
|             `@deprecated`             |   表示已过时，如果方法被标记，则编译器会警告调用者，JDK1.5之后被`@Deprecated`代替    |                     |

这一张内容讲的虽然我们不常用，但是第三方库的开发者，尤其是外国的，用的都特别好。一个好的开源，就需要一个好的文档。

##### 2.9编码风格
类名首字母大写（如果有几个单词拼成，则单词首字母都大写，不要使用下滑线分开）

这种风格被称为`驼峰风格`。

方法、成员变量以及对象引用名（变量），都使用`驼峰风格`,只不过开头的首字母小写。

##### 2.10总结
略
##### 2.11练习
github https://github.com/StephenChen9527/practise.git
