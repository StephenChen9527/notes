# 11.线程上下文类加载器

## 为什么需要线程上下文类加载器

```java
getContextClassLoader();
setContextClassLoader(ClassLoader cl);
```

Thread类提供了获取和设置上下文类加载器，如果没有设置上下文类加载器，那么它将和父线程保持同样的类加载器。

一般不会设置，则都是Main线程的类加载器。

为什么需要线程上下文类加载器呢？

这个与JVM类加载器双亲委托机制自身的缺陷是分不开的。

例如JDBC，JDK提供了高度抽象，具体厂商进行实现，但是java.lang.sql中的所有接口都由JDK提供，加载这些接口的类加载器是根加载器，第三方厂商提供的类库驱动则是有系统类加载器（app）加载的，由于双亲委托机制，比如`Connections`、`Statement`、`RowSet`等皆由根加载器加载，第三方的JDBC驱动包中的实现不会被加载。

## 数据库驱动的初始化源码分析

使用JDBC的时候，通常会`Class.forName("")`对数据库驱动进行加载，
