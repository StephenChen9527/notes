# 24.使用游标
## 游标
游标也是MySQL5之后的支持。

游标(cursor)是一个存储在MySQL服务器上的数据库查询，它不是一条`SELECT`语句，而是被该语句检索出来的结果集，有时候，需要再检索出来的数据上前进或后退一行或多行，这就是使用的原因。

游标主要用于交互式应用，其中用户需要滚动屏幕上的数据，并且对数据进行浏览或做出更改。

MySQL的游标只能用于存储过程和函数。

## 使用游标
步骤：
1. 在能够使用游标钱，必须声明(定义)它。这个过程实际上并没有检索数据，它只是定义要使用的`SELECT`语句。
2. 一旦声明后，必须打开游标以供使用。在这个之前，`SELECT`检索出数据。
3. 对于填有数据的游标，根据需要取出各行。
4. 在结束游标使用，必须关闭游标。

`DECLARE name CURSOR FOR SELECT xx`;

使用`DECLARE`声明创建游标，`DECLARE`要求指定变量名和数据类型。

![使用游标](https://tvax1.sinaimg.cn/large/005VwC5mly1g802yj6hobj30hw05jt98.jpg)

存储过程处理完之后，游标就消失。

`OPEN name;`打开游标、`CLOSE name;`关闭游标。

`CLOSE`释放游标使用的所有内部内存和资源，因此在每个游标不再需要时都应该关闭。如果不明企鹅关闭游标，MySQL在到大`END`语句时，自动关闭游标。

使用游标：

使用`FETCH`指定检索什么数据（所需要的列）。

## 总结
这章节跳过...感觉这游标在存储过程中使用，也没讲清楚，各种关键字。。。

因为MySQL里面还是比较少使用存储过程的， 因此这个先跳过，等真的需要再来看吧。
