# 19.插入数据

## 数据插入
插入数据主要使用`INSERT`语句，主要用法：
* 插入完整的行
* 插入行的一部分
* 插入多行
* 插入某些查询的结果

## 插入完整的行

`INSERT INTO table VALUES(x,x,x,x);` 这种的按照数据库表的列顺序进行插入。

如果字段可以为空，且无值插入，则可以指定`NULL`，这种方式的插入就是需要知道表的结构，知道哪个字段在哪个位置，如果没有对应好，就会产生问题，且如果后期对表的结构调整（增加、删除一个字段），那么这种写法的SQL全都需要修改。。

`INSERT`语句一般不会产生输出。

`INSERT INTO table(a,a,a,a) VALUES(b,b,b,b);`

这种写法与之前不同的是在表名之后，有括号，并且在括号中标明了列名，后面插入的值的个数也跟列的个数一致（且也要一一对应）。这种写法的好处在于，指定插入的数据，只插入某些值，省去不必要的列（因为有些值如：id，创建时间，更新时间等都可以由数据库维护），而且在表结构更改的时候，也能保持正常工作。

>一般不要使用没有明确给出列的列表的INSERT语句。

注意：无论是哪种，都需要字段跟插入的值要一一对应，不指定列，则需要跟数据库结构进行对照，指定列，则对照指定出列进行对照，防止出错。

>省略列 如果表的定义允许，则可以在INSERT操作中省略某些列。
* 该列定义允许为NULL值（无值或空值）。
* 在表定义中给出默认值。

提高整体性能：`INSERT`语句比较耗时（特别是有很多索引需要更新时），而且有可能降低等待处理的`SELECT`语句的性能。

因此可以通过在`SELECT`和`INTO`之间添加`LOW_PRIORITY`指示MySQL降低`INSERT`语句的优先级，如：

`INSERT LOW_PRIORITY INTO`

同样，也适用于`UPDATE`和`DELETE`。

## 插入多个行

>INSERT INTO table(a,a,a,a)
>            VALUES(b,b,b,b),(c,c,c,c),(d,d,d,d);

多行的写法其实就是在单行的最后，用逗号分隔，将其他要插入的数据写在后面即可，当然也需要将数据与列一一对应，最后用分号结束。

## 插入检索出的数据
MySQL也支持将其他表中查询出来的数据直接当做值，插入其他表中。

语法是`INSERT SELECT`

`INSERT INTO table1(col1,col2) SELECT(col1,col2) FROM table2;`

## 总结
本章节主要学了几种INSERT的语法：
1. 插入一行
2. 插入多行
3. 将其他表数据的查询结果作为结果插入

这章节还是比较简单的，毕竟`INSERT INTO`语句还是比较常用的，插入一行用的最多，而将其他表结果插入，这种的应该更适合数据迁移。
